DROP DATABASE IF EXISTS ejercicios ;
CREATE DATABASE ejercicios;
USE ejercicios;
CREATE TABLE REGIONS(
    REGION_ID FLOAT,
    REGION_NAME VARCHAR(25),
    PRIMARY KEY (REGION_ID));


CREATE TABLE COUNTRIES(
    COUNTRY_ID CHAR(2),
    COUNTRY_NAME VARCHAR(40),
    REGION_ID FLOAT,
    PRIMARY KEY (COUNTRY_ID),
    FOREIGN KEY(REGION_ID) REFERENCES REGIONS(REGION_ID));


CREATE TABLE LOCATIONS (
     LOCATION_ID FLOAT(4),
     STREET_ADDRESS VARCHAR(40),
     POSTAL_CODE VARCHAR(12),
     CITY VARCHAR(30) NOT NULL,
     STATE_PROVINCE VARCHAR(25),
     COUNTRY_ID CHAR(2),
     PRIMARY KEY(LOCATION_ID),
     FOREIGN KEY(COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID));


CREATE TABLE DEPARTMENTS(
   DEPARTMENT_ID FLOAT(4),
   DEPARTMENT_NAME VARCHAR(30) NOT NULL,
   MANAGER_ID FLOAT(6),
   LOCATION_ID FLOAT(4),
   PRIMARY KEY(DEPARTMENT_ID),
   FOREIGN KEY(LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID));


CREATE TABLE JOBS(
   JOB_ID VARCHAR(10),
   JOB_TITLE VARCHAR(35) NOT NULL,
   MIN_SALARY FLOAT(6),
   MAX_SALARY FLOAT(6),
   PRIMARY KEY(JOB_ID));


CREATE TABLE EMPLOYEES(
    EMPLOYEE_ID FLOAT(6),
    FIRST_NAME VARCHAR(20),
    LAST_NAME VARCHAR(25) NOT NULL,
    EMAIL VARCHAR(25) NOT NULL,
    PHONE_NUMBER VARCHAR(20),
    HIRE_DATE DATE NOT NULL,
    JOB_ID VARCHAR(10) NOT NULL,
    SALARY FLOAT(8,2),
    COMMISSION_PCT FLOAT(2,2),
    MANAGER_ID FLOAT(6),
    DEPARTMENT_ID FLOAT(4),
    PRIMARY KEY(EMPLOYEE_ID),
    FOREIGN KEY(JOB_ID) REFERENCES JOBS(JOB_ID),
    FOREIGN KEY(DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID),
    CONSTRAINT EMP_EMAIL_UK UNIQUE(EMAIL));



CREATE TABLE JOB_GRADES(
     GRADE_LEVEL VARCHAR(3),
     LOWEST_SAL FLOAT,
     HIGHEST_SAL FLOAT);



